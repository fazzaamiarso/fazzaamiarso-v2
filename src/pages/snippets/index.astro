---
import Layout from "layouts/Layout.astro";

type Frontmatter = {
  title: string;
  description: string;
  publishedAt: string;
  tags: string[];
};

const snippets = await Astro.glob<Frontmatter>("./*.mdx");
---

<Layout title='Snippets | Fazza Razaq Amiarso'>
  <main class='layout space-y-6 py-12'>
    <div class='pb-8'>
      <h1 class='mb-2 text-4xl font-bold'>Snippets</h1>
      <p class='max-w-[60ch] text-lg'>
        Collection of code snippets that I found useful. Hope it can help someone too.
      </p>
    </div>
    <ul class='grid gap-4 sm:grid-cols-2 lg:grid-cols-3'>
      {
        snippets.map((s) => {
          return (
            <li class='group relative rounded-md p-5 ring-1 ring-black'>
              <h2 class='text-lg font-bold'>
                <a href={s.url} class='link-card transition-all group-hover:text-blue-500'>
                  {s.frontmatter.title}
                </a>
              </h2>
              <ul class='mb-2 flex items-center space-x-4'>
                {s.frontmatter.tags.map((t) => (
                  <li class='text-sm'>#{t}</li>
                ))}
              </ul>
              <p>{s.frontmatter.description}</p>
            </li>
          );
        })
      }
    </ul>
  </main>
</Layout>
